<div *ngIf="account" class="px-3 px-lg-0">

  <div class="pb-3 d-flex align-items-center justify-content-between">
    <button pButton pRipple label="Powrót" icon="bi bi-arrow-return-left" class="px-3"
            (click)="showInfo ? showInfo = !showInfo : return()"
            attr.aria-label="Powrót do poprzedniej strony"></button>

    <button pButton pRipple class="px-3" (click)="showInfo = !showInfo"
            label="{{showInfo ? 'Profil' : ((account.isModifiable || account.isAdminModifiable) ? 'Ustawienia' : 'Informacje')}}"
            icon="bi {{showInfo ? 'bi-person' : ((account.isModifiable || account.isAdminModifiable)  ? 'bi-gear' : 'bi-info-circle')}}"
            attr.aria-label="Informacje o koncie"></button>
  </div>

  <div *ngIf="!showInfo">
    <app-account-banner [account]="account"></app-account-banner>
    <div class="mt-5" *ngIf="account.picturePreviews">
      <div class="row row-cols-1 row-cols-sm-2 mb-3 align-items-center">
        <app-account-picture-preview *ngFor="let picPreview of account.picturePreviews"
                                     [picturePreview]="picPreview">
        </app-account-picture-preview>
      </div>
    </div>
  </div>

  <div *ngIf="showInfo" class="mb-5">
    <app-account-info [account]="account"></app-account-info>

    <div *ngIf="account.isAdminModifiable && !account.isModifiable">
      <app-account-admin-settings [account]="account" (onBan)="banAccount()"></app-account-admin-settings>
    </div>
    <div *ngIf="account.isModifiable">
      <app-account-settings [account]="account" (onChange)="account = $event"></app-account-settings>
    </div>
  </div>

</div>



<!--  <p-dialog [(visible)]="showAccountSettingsFlag" header="Ustawienia konta"-->
<!--            [modal]="true" [dismissableMask]="true" [draggable]="false">-->
<!--    <app-account-settings [account]="account" (onSubmit)="closeModals()"></app-account-settings>-->
<!--  </p-dialog>-->
<!--  <p-dialog [(visible)]="showAdminAccountSettingsFlag" header="Ustawienia administratorskie konta"-->
<!--            [modal]="true" [dismissableMask]="true" [draggable]="false">-->
<!--    <app-account-admin-settings [account]="account" (onBan)="banAccount()"></app-account-admin-settings>-->
<!--  </p-dialog>-->




<!--    <button pButton pRipple label="Ustawienia" icon="bi bi-gear-fill" class="px-3"-->
<!--            attr.aria-label="Ustawienia administratorskie konta {{account.nickname}}"-->
<!--            (click)="showAdminAccountSettingsFlag = true"-->
<!--            *ngIf="account.isAdminModifiable && !account.isModifiable">-->
<!--    </button>-->

<!--    <button pButton pRipple label="Ustawienia" icon="bi bi-gear-fill" class="px-3"-->
<!--            attr.aria-label="Ustawienia konta {{account.nickname}}"-->
<!--            (click)="showAccountSettingsFlag = true"-->
<!--            *ngIf="account.isModifiable">-->
<!--    </button>-->

<!--  <div class="my-4 mb-md-5 px-2" *ngIf="account.pictures.length">-->
<!--    <p-dataView #dv [value]="account.pictures" [paginator]="true" [rows]="10" filterBy="name">-->
<!--      <ng-template pTemplate="header">-->
<!--        <div class="d-flex justify-content-center justify-content-sm-between align-items-center flex-wrap gap-2">-->
<!--          <h5 class="text-center text-sm-left">Obrazki użytkownika <b>{{account.nickname}}</b></h5>-->
<!--          <span class="p-input-icon-left md:mb-0 d-flex align-items-center">-->
<!--            <i class="pi pi-search"></i>-->
<!--            <input type="search" pInputText placeholder="Znajdź obrazek" (input)="filter($event)">-->
<!--          </span>-->
<!--        </div>-->
<!--      </ng-template>-->

<!--      <ng-template let-picture pTemplate="listItem" class="border">-->
<!--        <app-picture-table-->
<!--          [picture]="picture"-->
<!--          [isVisitorOwner]="account.isModifiable">-->
<!--        </app-picture-table>-->
<!--      </ng-template>-->

<!--      <ng-template pTemplate="footer">-->
<!--        <div class="d-flex justify-content-center align-items-center">-->
<!--          <p class="text-muted">Łączna liczba obrazków: {{account.pictures.length}}</p>-->
<!--        </div>-->
<!--      </ng-template>-->
<!--    </p-dataView>-->
<!--  </div>-->

<!--  <div class="my-4 px-2" *ngIf="!account.pictures.length">-->
<!--    <p class="text-muted text-center">Ten użytkownik nie zapostował jeszcze żadnego obrazka.</p>-->
<!--  </div>-->
