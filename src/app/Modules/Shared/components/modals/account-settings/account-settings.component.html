<div class="d-flex flex-column cont m-2 m-md-3">
  <h3 class="text-center text-break mb-2">
    Zmiana danych konta
  </h3>
  <div class="text-center mb-4">
    <p-selectButton [options]="selectOptions" [(ngModel)]="selectValue" optionLabel="name" (onOptionClick)="resetForms()">
      <ng-template let-item>
        <p class="select-item {{item.class}}"><span class="ml-1">{{item.name}}</span></p>
      </ng-template>
    </p-selectButton>
  </div>
  <div *ngIf="selectValue === selectOptions[0]" class="mt-2">
    <form [formGroup]="changePass" (ngSubmit)="submitChangePass()">
<!--      new pass -->
      <div class="pt-1 mb-4">
        <span class="p-float-label">
        <input id="newPassInput" class="w-100" type="password"
               [ngClass]="changePass.get('password')!.touched ? 'ng-dirty' : ''"
               formControlName="password" pInputText>
        <label for="newPassInput">
          Nowe hasło<span class="text-danger">*</span>
        </label>
      </span>
        <span *ngIf="changePass.get('password')!.touched && changePass.get('password')!.invalid">
          <small id="newPass-input-error-required" class="px-1 p-error block"
                 *ngIf="changePass.get('password')!.errors!['required']">
            Proszę wypełnić to pole
          </small>
          <small id="newPass-input-error-minlength" class="px-1 p-error block"
                 *ngIf="changePass.get('password')!.errors!['minlength']">
            Nowe hasło jest zbyt krótkie
          </small>
        </span>
      </div>

<!--      new pass conf -->
      <div class="pt-1 mb-4">
        <span class="p-float-label">
          <input id="newPassConfirmInput" class="w-100" type="password"
                 [ngClass]="changePass.get('confirmPassword')!.touched ? 'ng-dirty' : ''"
                 formControlName="confirmPassword" pInputText>
          <label for="newPassConfirmInput">
            Potwierdź nowe hasło<span class="text-danger">*</span>
          </label>
        </span>
        <span *ngIf="changePass.get('confirmPassword')!.touched && changePass.get('confirmPassword')!.invalid">
        <small id="newPassConfirm-input-error-required" class="px-1 p-error block"
               *ngIf="changePass.get('confirmPassword')!.errors!['required']">
          Proszę wypełnić to pole
        </small>
        <small id="newPassConfirm-input-error-mustmatch" class="px-1 p-error block"
               *ngIf="changePass.get('confirmPassword')!.errors!['mustMatch']">
          Nowe hasła nie są takie same
        </small>
      </span>
      </div>

      <div class="w-100 pt-1">
        <button pButton type="submit" class="p-button-primary text-center w-100" label="Zmień hasło"
                [disabled]="changePass.invalid || awaitSubmit">
        </button>
      </div>

    </form>
  </div>
  <div *ngIf="selectValue === selectOptions[1]" class="mt-2">
    <form [formGroup]="changeEmail" (ngSubmit)="submitChangeEmail()">

      <div class="pt-1 mb-4">
        <span class="p-float-label">
        <input id="newEmailInput" class="w-100" type="text" [pKeyFilter]="blockSpace"
               [ngClass]="changeEmail.get('email')!.touched ? 'ng-dirty' : ''"
               formControlName="email" pInputText>
        <label for="newPassInput">
          Nowy adres e-mail<span class="text-danger">*</span>
        </label>
      </span>
        <span *ngIf="changeEmail.get('email')!.touched && changeEmail.get('email')!.invalid">
          <small id="newEmail-input-error-required" class="px-1 p-error block"
                 *ngIf="changeEmail.get('email')!.errors!['required']">
            Proszę wypełnić to pole
          </small>
          <small id="newEmail-input-error-minlength" class="px-1 p-error block"
                 *ngIf="changeEmail.get('email')!.errors!['minlength']">
            Nowe hasło jest zbyt krótkie
          </small>
        </span>
      </div>

      <div class="w-100 pt-1">
        <button pButton type="submit" class="p-button-primary text-center w-100" label="Zmień adres e-mail"
                [disabled]="changeEmail.invalid || awaitSubmit">
        </button>
      </div>

    </form>
  </div>
</div>
