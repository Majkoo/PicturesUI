<div class="main">

  <div class="container pt-4 pt-md-5 w-100 w-lg-50">

    <div class="card">
      <div class="card-body">

        <form class="text-center row" [formGroup]="form">

          <div class="col-12 pb-3">
            <h2>Wstaw obrazek</h2>
          </div>

<!--          Picture name -->
          <div class="mb-3 text-left col-12">
            <mat-form-field class="w-100" appearance="fill">
              <mat-label>Nazwa</mat-label>
              <input type="text" matInput [formControl]="NameFormControl"
                     placeholder="Nazwa obrazka" formControlName="name" required>
            </mat-form-field>
          </div>

<!--          Picture Image -->
          <div class="mb-3 text-left col-12">
            <div class="row">
              <div class="w-100 col-12">
                  <input type="file" class="min-width" formControlName="img" (change)="fileChangeEvent($event)" required/>
              </div>
            </div>
            <div class="row">
              <div class="text-center col-12">
                <h5>Przytnij</h5>
                <image-cropper class="border" #cropperInput
                  [imageChangedEvent]="imageChangedEvent"
                  [maintainAspectRatio]="true"
                  [aspectRatio]="16 / 10"
                  [resizeToWidth]="1024"
                  format="webp"
                  (imageCropped)="imageCropped($event)"
                  (imageLoaded)="imageLoaded()"
                  (cropperReady)="cropperReady()"
                  (loadImageFailed)="loadImageFailed()"></image-cropper>
              </div>
            </div>
          </div>

<!--          Picture Desc-->
          <div class="mb-3 text-left col-12">
            <mat-form-field class="w-100" appearance="fill">
              <mat-label>Opis</mat-label>
              <textarea matInput placeholder="Opis obrazka" formControlName="description"></textarea>
            </mat-form-field>
          </div>

<!--          Picture tags-->
          <div class="mb-3 text-left col-12">
            <mat-form-field class="chip-list w-100" appearance="fill" id="TagInput">
              <mat-label>Tagi</mat-label>
              <mat-chip-list #chipList aria-label="Tag input">
                <mat-chip *ngFor="let tag of tags" (removed)="remove(tag)">
                  {{tag}}
                  <button matChipRemove>
                    <mat-icon>cancel</mat-icon>
                  </button>
                </mat-chip>
                <input placeholder="Dodaj tagi..."
                       [matChipInputFor]="chipList"
                       [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                       [matChipInputAddOnBlur]="addOnBlur"
                       (matChipInputTokenEnd)="add($event)"
                       formControlName="tags">

              </mat-chip-list>
              <mat-hint>Kolejność tagów ma znaczenie!</mat-hint>
            </mat-form-field>

          </div>

          <div class="col-12">
            <button (click)="submit()" mat-raised-button color="primary" class="px-2 px-md-5" [disabled]="form.invalid">Wyślij</button>
          </div>


        </form>

      </div>
    </div>

  </div>

</div>
